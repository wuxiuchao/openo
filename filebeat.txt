---
  logzio:
    token: jnGIiLuVBmiXDIeQAEMlyynugqGdFRBv
    listener: listener.logz.io
  files:
    -
      type: "mylogtype"
      logzio_codec: "plain"
      path: "/var/log/moco.log"
      multiline:
        pattern: '"^[[:digit:]]+"'


#If ElasticSearch cannot be started, on the host (not docker container), run the following command.
#sudo sysctl -w vm.max_map_count=262144
sudo docker pull sebp/elk
sudo docker run -d -t  --name i-elk --network openo-net --ip 172.18.3.2 -p 5601:5601 -p 9200:9200 -p 4560:4560 sebp/elk

#logz.io rsyslog_shipper
sudo docker pull logzio/logzio-rsyslog-shipper

sudo docker run -d -t --name i-rsyslog-shipper --network openo-net --ip 172.18.3.3 \
-v /logs/<service 1 name>:/var/log/logzio \
-v /logs/<service 2 name>:/var/log/logzio \
-v /logs/<service 3 name>:/var/log/logzio \
-e LOGZIO_USER_TOKEN=jnGIiLuVBmiXDIeQAEMlyynugqGdFRBv\
-e LISTENER_HOST=listener.logz.io \
-e MONITOR_FILE_TYPE="file" \
logzio/logzio-rsyslog-shipper

sudo docker run -d -t --name i-rsyslog-shipper --network openo-net --ip 172.18.3.3 -v /home/xiuchao/logtest:/var/log/logzio -e LOGZIO_USER_TOKEN=jnGIiLuVBmiXDIeQAEMlyynugqGdFRBv  -e LISTENER_HOST=listener.logz.io  -e MONITOR_FILE_TYPE="file" logzio/logzio-rsyslog-shipper


#simulated mocco server
sudo docker pull openoint/sdno-driver-simul-sfc
sudo docker run -d -t --name i-sdnod-sfc --network openo-net --ip 172.18.3.6 -e MSB_ADDR=172.18.0.2:80 openoint/sdno-driver-simul-sfc

sudo docker run -i -t --name i-sdnod-sfc --network openo-net --ip 172.18.3.6 -e MSB_ADDR=172.18.0.2:80 -v /home/xiuchao/logtest:/service/logs openoint/sdno-driver-simul-sfc /bin/bash

sudo docker run -it  --name i-sdnod-sfc --network openo-net --ip 172.18.3.6 -e MSB_ADDR=172.18.0.2:80 -v /home/xiuchao/logtest:/service/logs --entrypoint bash openoint/sdno-driver-simul-sfc

sudo docker run -d -t  --name i-sdnod-sfc --network openo-net --ip 172.18.3.6 -e MSB_ADDR=172.18.0.2:80 -v /home/xiuchao/logtest:/service/logs  openoint/sdno-driver-simul-sfc


#filebeat
sudo docker pull logzio/logzio-filebeat
sudo docker run -d --restart=always --name i-filebeat --network openo-net --ip 172.18.3.4 -v /home/xiuchao/logtest:/var/log:ro -v /home/xiuchao/filebeat/filebeat-config.yml:/root/config.yml logzio/logzio-filebeat

CONTENT of filebeat-config.yml

---
  logzio:
    token: jnGIiLuVBmiXDIeQAEMlyynugqGdFRBv
    listener: listener.logz.io
  files:
    -
      type: "file"
      logzio_codec: "plain"
      path: "/var/log/moco.log"
      multiline:
        pattern: "^[[:digit:]]{1,2}[[:space:]][A-Za-z]{3}.+"